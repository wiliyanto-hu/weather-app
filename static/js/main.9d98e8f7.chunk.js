(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),r=n.n(i),c=n(10),s=n.n(c),o=(n(80),n(81),n(149)),l=n(153),d=n(44),j=n(42),u=n.n(j),m=n(61),x=n(14);var p=function(e,t){var n=Object(i.useState)((function(){var n;try{n=JSON.parse(localStorage.getItem(e))||String(t)}catch(a){n=t}return n})),a=Object(x.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,c]},h=n(62),b=n.n(h),f="92a4d62a3c83965a7d90cc295ef0d3af",O=Object(i.createContext)();function y(e){var t=p("city","jakarta"),n=Object(x.a)(t,2),r=n[0],c=n[1],s=Object(i.useState)({}),o=Object(x.a)(s,2),l=o[0],j=o[1];return Object(i.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,n,a,i,c,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j({cityName:"Loading Data",weather:"Please Wait"}),e.next=4,b.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(f));case 4:t=e.sent,n=t.data,a=n.name,i=n.main,c=n.weather,s=n.sys,o=n.wind,j({cityName:a,countryID:s.country,icon:c[0].icon,temperature:(i.temp-273.15).toFixed(2),weather:c[0].description,humidity:i.humidity,windSpeed:o.speed,maxTemp:(i.temp_max-273.15).toFixed(2),minTemp:(i.temp_min-273.15).toFixed(2)}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(l=e.t0.response.data.message,j({cityName:l,weather:"Please select another city",countryID:"X",icon:"X",temperature:"X",humidity:"X",windSpeed:"X",maxTemp:"X",minTemp:"X"})):e.t0.request?(j({cityName:"Connection error occurred",weather:"Please check your internet connection",countryID:"X",icon:"X",temperature:"X",humidity:"X",windSpeed:"X",maxTemp:"X",minTemp:"X"}),console.log(e.t0.request,"11111111")):console.log("Error",e.t0.message,"222222"),console.log("this is the ERROR",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),Object(a.jsx)(O.Provider,{value:Object(d.a)(Object(d.a)({},l),{},{changeCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pekanbaru";c(e)}}),children:e.children})}var g=function(){var e=Object(i.useContext)(O),t=e.cityName,n=e.countryID,r=e.icon,c=e.weather,s=e.temperature;return Object(a.jsx)(o.a,{container:!0,justify:"center",children:Object(a.jsx)(o.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(a.jsxs)(l.a,{style:{textAlign:"left",padding:"0.8rem",marginTop:"1rem"},elevation:3,children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(r,"@2x.png"),alt:"weather_icon"}),Object(a.jsx)("span",{style:{fontSize:"1.3rem",marginLeft:"1.3rem"},children:"".concat(s,"\xb0C")})]}),Object(a.jsxs)("h1",{style:{fontWeight:"800"},children:[t,", ",n]}),Object(a.jsx)("h3",{style:{textTransform:"capitalize",fontFamily:"Nunito, sans-serif"},children:c})]})})})},v=function(e){var t=e.detail,n=e.iconClass,i=e.detailText,r=e.iconColor;return Object(a.jsx)(o.a,{item:!0,lg:2,xs:5,justify:"center",elevation:2,children:Object(a.jsxs)(l.a,{style:{textAlign:"center"},children:[Object(a.jsx)("p",{style:{fontFamily:"Nunito, sans-serif"},children:i}),Object(a.jsx)("i",{className:n,style:{color:r}}),Object(a.jsx)("p",{style:{fontFamily:"Nunito, sans-serif"},children:t})]})})},C=function(){var e=Object(i.useContext)(O),t=e.humidity,n=e.windSpeed,r=e.maxTemp,c=e.minTemp;return Object(a.jsxs)(o.a,{container:!0,justify:"space-around",children:[Object(a.jsx)(v,{detail:t,iconClass:"fas fa-tint fa-2x",detailText:"Humidity(%)",iconColor:"CornflowerBlue"}),Object(a.jsx)(v,{detail:n,iconClass:"fas fa-wind fa-2x",detailText:"Wind(m/s)",iconColor:"gray"}),Object(a.jsx)(v,{detail:r,iconClass:"fas fa-arrow-up fa-2x",detailText:"Max Temp(\xb0C)",iconColor:"orange"}),Object(a.jsx)(v,{detail:c,iconClass:"fas fa-arrow-down fa-2x",detailText:"Min Temp(\xb0C)",iconColor:"aqua"})]})},w=function(){return Object(a.jsx)(o.a,{container:!0,justify:"center",children:Object(a.jsx)(o.a,{item:!0,lg:6,md:6,sm:8,xs:11,style:{marginTop:"5%"},children:Object(a.jsxs)(l.a,{elevation:3,style:{boxShadow:"0px 13px 24px 1px rgba(255,255,255,0.25)"},children:[Object(a.jsx)(g,{}),Object(a.jsx)(C,{})]})})})},T=(n(103),n(156)),S=n(158),X=n(155),N=n(154),k=n(159);var F=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)(e),n=Object(x.a)(t,2),a=n[0],r=n[1],c=function(){return r(!a)};return[a,c]};var I=function(){var e=Object(i.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1];return[n,function(e){return a(e.target.value)}]},q=n(43);function D(){var e=Object(i.useContext)(O).changeCity,t=F(!1),n=Object(x.a)(t,2),r=n[0],c=n[1],s=I(""),o=Object(x.a)(s,2),l=o[0],d=o[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.a,{variant:"contained",color:"secondary",onClick:c,style:{marginTop:"2rem"},children:"Change Location"}),Object(a.jsxs)(S.a,{open:r,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Enter a City Name"}),Object(a.jsxs)(q.ValidatorForm,{onSubmit:function(t){t.preventDefault(),e(l),c()},instantValidate:!1,children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(q.TextValidator,{value:l,autoFocus:!0,margin:"dense",id:"name",label:"City",type:"text",fullWidth:!0,onChange:d,validators:["required"],errorMessages:["This field is required"]})}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(T.a,{onClick:c,color:"primary",children:"Cancel"}),Object(a.jsx)(T.a,{color:"primary",type:"submit",children:"Change"})]})]})]})]})}var E=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(y,{children:[Object(a.jsx)(w,{}),Object(a.jsx)(D,{})]})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))},80:function(e,t,n){},81:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.9d98e8f7.chunk.js.map